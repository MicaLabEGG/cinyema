<div th:fragment="_editarPelicula(editar,error,directores,actores,pelicula)">
    <section class="container">
        <div class="row vh-100 justify-content-center align-items-center">
            <div class="col-auto">
                <h1 th:text="${editar}" class="text-center"></h1>
                <div th:if="${error}!=null" class="card text-white bg-danger mb-3" style="max-width: 23rem;">
                    <div class="card-body">
                        <h5 class="card-title">Error</h5>
                        <p class="card-text" th:text="${error}"></p>
                    </div>
                </div>
                <form th:object="${pelicula}" th:action="@{/pelicula/editar/__${pelicula.idPelicula}__}" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label class="form-label">Titulo</label>
                        <input type="text" class="form-control" th:field="*{titulo}" th:value="${titulo}" required></input>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descripcion</label>
                        <textarea class="form-control" style="height: 100px" th:field="*{descripcion}"
                            th:value="${descripcion}"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Genero</label>
                        <select class="form-select" th:field="*{genero}" required>
                            <option th:each="genero : ${T(com.cinyema.app.enumeraciones.Genero).values()}"
                                th:value="${genero}" th:text="${genero}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Director</label>
                        <select class="form-select" th:field="*{director}" required>
                            <option th:each="director : ${directores}" th:value="${director.idDirector}" th:text="${director.nombre}">
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Actores</label>
                        <select multiple class="form-select" th:field="*{actores}" required>
                            <option th:each="actor : ${actores}" th:value="${{actor}}" th:text="${actor.nombreCompleto}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">AÃ±io</label>
                        <input type="number" class="form-control" th:field="*{anio}" th:value="${anio}" required></input>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pais</label>
                        <select class="form-select" th:field="*{pais}" required>
                            <option th:each="pais : ${T(com.cinyema.app.enumeraciones.Pais).values()}" th:value="${pais}"
                                th:text="${pais}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Idioma</label>
                        <select class="form-select" th:field="*{idioma}" required>
                            <option th:each="idioma: ${T(com.cinyema.app.enumeraciones.Idioma).values()}"
                                th:value="${idioma}" th:text="${idioma}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Subtitulo</label>
                        <select class="form-select" th:field="*{subtitulo}" required>
                            <option th:each="subtitulo : ${T(com.cinyema.app.enumeraciones.Subtitulo).values()}"
                                th:value="${subtitulo}" th:text="${subtitulo}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Duracion</label>
                        <input type="text" class="form-control" th:field="*{duracion}" th:value="${duracion}" required></input>
                    </div>
                    <!--Prueba traer la imagen en el input -->
                    <img th:src="${'data:imagen/jpeg;base64,'+{pelicula.imagen}}" class="img-thumbnail" alt="...">
                    <div class="form-group">
                        <label for="formFile" class="form-label">Imagen</label>
                        <input type="file" class="form-control"  name="archivo"></input>
                    </div>
                    <div class="form-group">
                         <label for="formFile" class="form-label">Trailer</label>
                         <input type="text" class="form-control"  id="formFile" name="archivoVideo" th:value="${archivoVideo}"></input>
                    </div>

                    <button class="btn btn-primary" type="submit">Guardar</button>

                </form>
            </div>
        </div>
    </section>
</div>